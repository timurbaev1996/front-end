
<html>

<head>
    <link rel="stylesheet" href="http://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="http://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
</head>

<body>
    <div id="dataBaseTable"></div>
    <script>
        $.getJSON('dealsData.json', function (data) {
            //console.log(data);

            // Retrieve column headers
            var columnHeaders;
            columnHeaders = $.map(data[0], function (val, key) { return key })
            console.log(columnHeaders);

            // Start writing html table code
            var tableBody = '<table id="dataTable" class="row-border hover order-column" style="width:100%">';
            tableBody += '<thead> <tr>';

            // Print column headers
            for (cH in columnHeaders) {
                tableBody += '<th>' + columnHeaders[cH] + '</th>';
            }
            tableBody += '</tr> </thead>';

            // Print table values
            for (row = 0; row < data.length; row++) {
                tableBody += '<tr>';
                for (column in columnHeaders) {
                    tableBody += '<td>' + data[row][columnHeaders[column]] + '</td>';
                }
                tableBody += '</tr>';
            }

            tableBody += '</tbody> </table>';
            $('#dataBaseTable').html(tableBody);

        });

        // Use datatable to make table look nice
        $(document).ready(function () {
            $('#dataTable').DataTable();

        });

    </script>


</body>

</html>